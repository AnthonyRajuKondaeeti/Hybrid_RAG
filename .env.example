# ==========================================
# XplorEase RAG System Configuration
# ==========================================
# Copy this file to .env and fill in your actual values
# DO NOT commit your actual .env file with real credentials!

# ==========================================
# API Keys (REQUIRED)
# ==========================================
MISTRAL_API_KEY=your_mistral_api_key_here

# ==========================================
# MongoDB Configuration (REQUIRED)
# ==========================================
MONGODB_URL=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority&appName=YourApp
DB_NAME=your_database_name

# ==========================================
# Qdrant Vector Database Configuration (REQUIRED)
# ==========================================
QDRANT_URL=https://your-qdrant-instance.qdrant.io:6333
QDRANT_API_KEY=your_qdrant_api_key_here
# Get your Qdrant cloud instance from: https://cloud.qdrant.io/

# ==========================================
# Flask Application Configuration
# ==========================================
UPLOAD_FOLDER=uploads
MAX_CONTENT_LENGTH=52428800
HOST=0.0.0.0
PORT=5000
FLASK_ENV=development

# ==========================================
# JWT Security Configuration
# ==========================================
# IMPORTANT: Change these in production!
JWT_SECRET=your-secret-key-change-this-to-a-random-64-character-string-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# ==========================================
# Session Management
# ==========================================
SESSION_CLEANUP_HOURS=24
MAX_SESSIONS=1000

# ==========================================
# Enhanced RAG Configuration
# ==========================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
MISTRAL_MODEL=mistral-large-latest
COLLECTION_NAME=enhanced_document_chunks

# Document Processing Settings
CHUNK_SIZE=800
CHUNK_OVERLAP=100
MAX_CONVERSATION_HISTORY=10
DEVICE=cpu

# LLM Response Generation Settings
MAX_TOKENS=2048
TEMPERATURE=0.3
TOP_P=0.9
RESPONSE_TIMEOUT=180
COMPREHENSIVE_ANSWER_MAX_SENTENCES=30
REGULAR_ANSWER_MAX_SENTENCES=4

# ==========================================
# Enhanced Features
# ==========================================
ENABLE_RERANKING=true
ENABLE_VERIFICATION=true
ENABLE_CITATIONS=false
ENABLE_EVALUATION=true
RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
VERIFIER_MODEL=cross-encoder/nli-deberta-v3-base

# ==========================================
# Performance Configuration
# ==========================================
RETRIEVAL_K=20
RERANK_TOP_K=8
BATCH_SIZE=100
PROCESSING_TIMEOUT=300
MAX_CHUNKS_FOR_DENSE_EMBEDDING=500
EMBEDDING_BATCH_SIZE=32
QDRANT_BATCH_SIZE=100
SKIP_BM25_FOR_LARGE_FILES=true

# ==========================================
# OCR & Image Processing
# ==========================================
ENABLE_OCR=true
ENABLE_IMAGE_ANALYSIS=true
MAX_IMAGE_SIZE_MB=10
SUPPORTED_IMAGE_FORMATS=jpg,jpeg,png,bmp,tiff
IMAGE_PROCESSING_TIMEOUT=30

# ==========================================
# Translation Settings (Optional)
# ==========================================
TRANSLATION_TIMEOUT=60
ENABLE_TRANSLATION=false
# Google Translate settings (if enabled)
# GOOGLE_TRANSLATE_API_KEY=your_google_translate_api_key

# ==========================================
# Conversation Memory
# ==========================================
ENABLE_CONVERSATION_MEMORY=true
MAX_CONVERSATION_TURNS=5
CONVERSATION_CACHE_SIZE=100
CONVERSATION_CACHE_TTL_HOURS=1

# ==========================================
# Advanced Embeddings Configuration
# ==========================================
FAST_EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
SLOW_EMBEDDING_MODEL=sentence-transformers/all-mpnet-base-v2
EMBEDDING_DIMENSIONS=384

# ==========================================
# File Processing Timeouts
# ==========================================
EXTRACTION_TIMEOUT=180

# ==========================================
# Logging & Debugging
# ==========================================
LOG_LEVEL=INFO
ENABLE_DEBUG_LOGGING=false

# ==========================================
# Rate Limiting (Optional)
# ==========================================
ENABLE_RATE_LIMITING=false
REQUESTS_PER_MINUTE=60

# ==========================================
# Security Settings
# ==========================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5000
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_EXTENSIONS=pdf,docx,txt,md,html,csv,xlsx,png,jpg,jpeg

# ==========================================
# Development/Testing Settings
# ==========================================
SKIP_AUTH=false
ENABLE_SWAGGER=true
ENABLE_METRICS=true

# ==========================================
# Instructions for Setup:
# ==========================================
# 1. Copy this file to .env
# 2. Replace all placeholder values with your actual credentials
# 3. Get Mistral API key from: https://console.mistral.ai/
# 4. Set up MongoDB (local or cloud): https://www.mongodb.com/
# 5. Set up Qdrant vector database: https://cloud.qdrant.io/
# 6. Never commit your .env file with real credentials!
